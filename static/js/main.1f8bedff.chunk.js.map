{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","apiService/images-api.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","alt","previewURL","largeImageURL","onImageClick","onClick","src","ImageGalleryItem_image","ImageGallery","images","map","id","tags","webformatURL","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","catch","error","console","log","Button","btnWrapper","Modal","handleKeydown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","Overlay","children","App","isLoading","showModal","onChangeQuery","toggleModal","largeImgUrl","handleModal","fetchImages","options","imagesApi","prevState","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","PrevState","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1f8bedff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1nctY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3unyb\",\"btnWrapper\":\"Button_btnWrapper__3QANm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__27kxT\",\"Modal\":\"Modal_Modal__27ZiN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__dnh35\"};","import { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ alt, previewURL, largeImageURL, onImageClick }) => (\r\n  <li\r\n    className={s.ImageGalleryItem}\r\n    onClick={() => onImageClick(largeImageURL, alt)}\r\n  >\r\n    <img src={previewURL} alt={alt} className={s.ImageGalleryItem_image} />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  onClick: PropTypes.func,\r\n  image: PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }),\r\n};\r\n","import ImageGalleryItem from '../../components/ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onImageClick }) => (\r\n  <ul className={s.ImageGallery}>\r\n    {images.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        alt={tags}\r\n        previewURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n        onImageClick={onImageClick}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n","import axios from 'axios';\n\nconst fetchImages = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=20663729-402ac0755ef01966534e76e9d&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\n    )\n    .then(response => response.data.hits)\n    .catch(error => console.log('error: ', error));\n};\n\nexport default { fetchImages };\n\n// const API_KEY = '7055575-04a3ba49e3c82fdd87935eab9';\n// const BASE_URL = 'https://pixabay.com/api/';\n\n// axios.defaults.baseURL = BASE_URL;\n// axios.defaults.params = {\n//   key: API_KEY,\n//   image_type: 'photo',\n//   orientation: 'horizontal',\n//   per_page: 12,\n// };\n","import s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <div className={s.btnWrapper}>\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import './App.css';\nimport { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport imagesApi from './apiService/images-api';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    pageSize: 12,\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, PrevState) {\n    if (PrevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n\n    if (this.state.showModal) {\n      this.setState({ largeImgUrl: '', alt: '' });\n    }\n  };\n\n  handleModal = (largeImgUrl, alt) => {\n    this.setState({ largeImgUrl: largeImgUrl, alt: alt });\n    this.toggleModal();\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage, pageSize } = this.state;\n    const options = { searchQuery, currentPage, pageSize };\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error: error }))\n      .finally(() =>\n        this.setState(\n          { isLoading: false },\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          }),\n        ),\n      );\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, largeImgUrl, alt } =\n      this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <h3 className=\"Error\">Search error:( Please try again!)</h3>}\n        <ImageGallery images={images} onImageClick={this.handleModal} />\n        {isLoading && (\n          <Loader\n            className=\"Loader\"\n            type=\"Oval\"\n            color=\"#3f51b5\"\n            height={50}\n            width={50}\n            timeout={1000}\n          />\n        )}\n        {(images.length && !isLoading) > 0 && (\n          <Button onClick={this.fetchImages} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImgUrl} alt={alt} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3qU0D\",\"SearchForm\":\"Searchbar_SearchForm__3Cbew\",\"SearchForm__button\":\"Searchbar_SearchForm__button__ql4z1\",\"SearchForm__button-label\":\"Searchbar_SearchForm__button-label__3AhNb\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2nhph\"};"],"sourceRoot":""}