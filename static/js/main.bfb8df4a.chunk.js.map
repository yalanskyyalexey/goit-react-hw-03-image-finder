{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","App.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","apiService/images-api.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","LoaderSpinner","className","s","Loader","type","color","height","width","timeout","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","SearchForm","this","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","alt","previewURL","largeImageURL","onImageClick","onClick","src","ImageGalleryItem_image","ImageGallery","images","map","id","tags","webformatURL","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","catch","error","console","log","Button","btnWrapper","Modal","handleKeydown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","Overlay","children","App","isLoading","showModal","onChangeQuery","toggleModal","largeImgUrl","handleModal","fetchImages","options","imagesApi","prevState","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","PrevState","Error","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bfb8df4a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1nctY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3unyb\",\"btnWrapper\":\"Button_btnWrapper__3QANm\",\"Error\":\"Button_Error__2hCTZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__27kxT\",\"Modal\":\"Modal_Modal__27ZiN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3nt1Y\",\"LoaderSpinner\":\"App_LoaderSpinner__1nv6w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1g_ly\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__dnh35\"};","import Loader from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst LoaderSpinner = () => {\r\n  return (\r\n    <Loader\r\n      className={s.Loader}\r\n      type=\"Audio\"\r\n      color=\"#D9DB57\"\r\n      height={100}\r\n      width={100}\r\n      timeout={4000}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoaderSpinner;\r\n","import { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { FcSearch } from 'react-icons/fc';\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__button_label}>\r\n              <FcSearch />\r\n            </span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ alt, previewURL, largeImageURL, onImageClick }) => (\r\n  <li\r\n    className={s.ImageGalleryItem}\r\n    onClick={() => onImageClick(largeImageURL, alt)}\r\n  >\r\n    <img src={previewURL} alt={alt} className={s.ImageGalleryItem_image} />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  onClick: PropTypes.func,\r\n  image: PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }),\r\n};\r\n","import ImageGalleryItem from '../../components/ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onImageClick }) => (\r\n  <ul className={s.ImageGallery}>\r\n    {images.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        alt={tags}\r\n        previewURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n        onImageClick={onImageClick}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n","import axios from 'axios';\n\nconst fetchImages = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=20663729-402ac0755ef01966534e76e9d&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\n    )\n    .then(response => response.data.hits)\n    .catch(error => console.log('error: ', error));\n};\n\nexport default { fetchImages };\n\n// const API_KEY = '7055575-04a3ba49e3c82fdd87935eab9';\n// const BASE_URL = 'https://pixabay.com/api/';\n\n// axios.defaults.baseURL = BASE_URL;\n// axios.defaults.params = {\n//   key: API_KEY,\n//   image_type: 'photo',\n//   orientation: 'horizontal',\n//   per_page: 12,\n// };\n","import s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <div className={s.btnWrapper}>\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\nimport LoaderSpinner from './components/Loader/Loader';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport imagesApi from './apiService/images-api';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport s from './App.module.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    pageSize: 12,\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, PrevState) {\n    if (PrevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n\n    if (this.state.showModal) {\n      this.setState({ largeImgUrl: '', alt: '' });\n    }\n  };\n\n  handleModal = (largeImgUrl, alt) => {\n    this.setState({ largeImgUrl: largeImgUrl, alt: alt });\n    this.toggleModal();\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage, pageSize } = this.state;\n    const options = { searchQuery, currentPage, pageSize };\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error: error }))\n      .finally(() =>\n        this.setState(\n          { isLoading: false },\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          }),\n        ),\n      );\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, largeImgUrl, alt } =\n      this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <h3 className={s.Error}>Search error: Please try again!</h3>}\n        <ImageGallery images={images} onImageClick={this.handleModal} />\n        {isLoading && <LoaderSpinner className={s.Loader} />}\n        {(images.length && !isLoading) > 0 && (\n          <Button onClick={this.fetchImages} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImgUrl} alt={alt} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3qU0D\",\"SearchForm\":\"Searchbar_SearchForm__3Cbew\",\"SearchForm__button\":\"Searchbar_SearchForm__button__ql4z1\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2nhph\"};"],"sourceRoot":""}